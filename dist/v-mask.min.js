!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueMask={})}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(o,!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var i="_",a="function",c=[];function u(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}var l="[]";var s=[],f="";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!u(n)){if(t(n)!==a)throw new Error("Text-mask:conformToMask; The mask property must be an array.");n=function(e){for(var t,n=[];-1!==(t=e.indexOf(l));)n.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:n}}(n=n(e,r)).maskWithoutCaretTraps}var o=r.guide,p=void 0===o||o,d=r.previousConformedValue,v=void 0===d?f:d,h=r.placeholderChar,m=void 0===h?i:h,g=r.placeholder,y=void 0===g?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(!u(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+"The placeholder character that was received is: ".concat(JSON.stringify(t),"\n\n")+"The mask that was received is: ".concat(JSON.stringify(e)));return e.map((function(e){return e instanceof RegExp?t:e})).join("")}(n,m):g,b=r.currentCaretPosition,w=r.keepCharPositions,O=!1===p&&void 0!==v,k=e.length,x=v.length,E=y.length,P=n.length,S=k-x,j=S>0,T=b+(j?-S:0),M=T+Math.abs(S);if(!0===w&&!j){for(var V=f,C=T;C<M;C++)y[C]===m&&(V+=m);e=e.slice(0,T)+V+e.slice(T,k)}for(var D=e.split(f).map((function(e,t){return{char:e,isNew:t>=T&&t<M}})),N=k-1;N>=0;N--){var A=D[N].char;if(A!==m)A===y[N>=T&&x===P?N-S:N]&&D.splice(N,1)}var _=f,L=!1;e:for(var R=0;R<E;R++){var $=y[R];if($===m){if(D.length>0)for(;D.length>0;){var U=D.shift(),I=U.char,q=U.isNew;if(I===m&&!0!==O){_+=m;continue e}if(n[R].test(I)){if(!0===w&&!1!==q&&v!==f&&!1!==p&&j){for(var z=D.length,B=null,H=0;H<z;H++){var J=D[H];if(J.char!==m&&!1===J.isNew)break;if(J.char===m){B=H;break}}null!==B?(_+=I,D.splice(B,1)):R--}else _+=I;continue e}L=!0}!1===O&&(_+=y.substr(R,E));break}_+=$}if(O&&!1===j){for(var W=null,X=0;X<_.length;X++)y[X]===m&&(W=X);_=null!==W?_.substr(0,W+1):f}return{conformedValue:_,meta:{someCharsRejected:L}}}var d="$",v="",h=",",m=".",g="-",y=/-/,b=/\D+/g,w="number",O=/\d/,k="[]";function x(e){return e.split(v).map((function(e){return O.test(e)?O:e}))}var E={__nextCharOptional__:!0},P={"#":/\d/,A:/[a-z]/i,N:/[a-z0-9]/i,"?":E,X:/./},S=function(e){return t=e.toString().replace(/.(\/)[gmiyus]{0,6}$/,(function(e){return e.replace("/","?/")})),n=t.lastIndexOf("/"),new RegExp(t.slice(1,n),t.slice(n+1));var t,n},j=function(e){return e instanceof RegExp?e:function(e){return new RegExp("/[".concat(function(e){return"[\\^$.|?*+()".indexOf(e)>-1?"\\".concat(e):e}(e),"]/"))}(e)};var T=function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},M=function(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e},V="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),C=V&&V.indexOf("edge/")>0,D=V&&V.indexOf("android")>0,N=V&&/chrome\/\d+/.test(V)&&!C;var A=function(){var e=new Map,t={previousValue:"",mask:[]};function n(n){return e.get(n)||o({},t)}return{partiallyUpdate:function(t,r){e.set(t,o({},n(t),{},r))},remove:function(t){e.delete(t)},get:n}}();function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.value,r=A.get(e),o=r.previousValue,i=r.mask,a=n!==o,c=n.length>o.length;if(t||n&&a&&c){var u=p(n,i,{guide:!1}).conformedValue;e.value=u,function(e){var t=T.bind(null,e,"input");D&&N?setTimeout(t,0):t()}(e)}A.partiallyUpdate(e,{previousValue:n})}function L(e){var n=e.type,r=e.options,o=void 0===r?{}:r;switch(n){case"number":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prefix,r=void 0===n?d:n,o=e.suffix,i=void 0===o?v:o,a=e.includeThousandsSeparator,c=void 0===a||a,u=e.thousandsSeparatorSymbol,l=void 0===u?h:u,s=e.allowDecimal,f=void 0!==s&&s,p=e.decimalSymbol,E=void 0===p?m:p,P=e.decimalLimit,S=void 0===P?2:P,j=e.requireDecimal,T=void 0!==j&&j,M=e.allowNegative,V=void 0!==M&&M,C=e.allowLeadingZeroes,D=void 0!==C&&C,N=e.integerLimit,A=void 0===N?null:N,_=r&&r.length||0,L=i&&i.length||0,R=l&&l.length||0;function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=e.length;if(e===v||e[0]===r[0]&&1===n)return r.split(v).concat([O]).concat(i.split(v));if(e===E&&f)return r.split(v).concat(["0",E,O]).concat(i.split(v));var o=e[0]===g&&V;o&&(e=e.toString().substr(1));var a,u,s,p=e.lastIndexOf(E),d=-1!==p;if(e.slice(-1*L)===i&&(e=e.slice(0,-1*L)),d&&(f||T)?(a=e.slice(e.slice(0,_)===r?_:0,p),u=x((u=e.slice(p+1,n)).replace(b,v))):a=e.slice(0,_)===r?e.slice(_):e,A&&t(A)===w){var h="."===l?"[.]":"".concat(l),m=(a.match(new RegExp(h,"g"))||[]).length;a=a.slice(0,A+m*R)}return a=a.replace(b,v),D||(a=a.replace(/^0+(0$|[^0])/,"$1")),s=x(a=c?function(e,t){return e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}(a,l):a),(d&&f||!0===T)&&(e[p-1]!==E&&s.push(k),s.push(E,k),u&&(t(S)===w&&(u=u.slice(0,S)),s=s.concat(u)),!0===T&&e[p-1]===E&&s.push(O)),_>0&&(s=r.split(v).concat(s)),o&&(s.length===_&&s.push(O),s=[y].concat(s)),i.length>0&&(s=s.concat(i.split(v))),s}return $.instanceOf="createNumberMask",$}(o);default:throw new Error("Object mask type does not conform to text-mask-addon")}}function R(e,t){var n;A.partiallyUpdate(e,{mask:"string"==typeof t?(n=t,n.split("").map((function(e,t,n){var r=P[e]||e,o=n[t-1],i=P[o]||o;return r===E?null:i===E?S(j(r)):r})).filter(Boolean)):L(t)})}var $={bind:function(e,t){var n=t.value;R(e=M(e),n),_(e)},componentUpdated:function(e,t){var n=t.value,r=t.oldValue;e=M(e);var o=n!==r;o&&R(e,n),_(e,o)},unbind:function(e){e=M(e),A.remove(e)}},U=function(e){e.directive("mask",$)};e.VueMaskDirective=$,e.VueMaskPlugin=U,e.default=U,Object.defineProperty(e,"__esModule",{value:!0})}));
